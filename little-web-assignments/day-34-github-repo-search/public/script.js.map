{"version":3,"sources":["../client/script.js"],"names":["display","document","querySelector","clientInput","template","pageCount","nextB","prevB","pageNav","page","totalCount","getData","searchInput","value","promise","$","ajax","url","done","data","innerHTML","items","forEach","item","templateHtml","output","Mustache","render","total_count","innerText","style","addEventListener","evt","keyCode","classList","add","console","log","remove"],"mappings":";;AAAA,CAAC,YAAM;AACL,MAAIA,UAAUC,SAASC,aAAT,CAAuB,UAAvB,CAAd;AACA,MAAIC,cAAcF,SAASC,aAAT,CAAuB,eAAvB,CAAlB;AACA,MAAIE,WAAWH,SAASC,aAAT,CAAuB,WAAvB,CAAf;AACA,MAAIG,YAAYJ,SAASC,aAAT,CAAuB,eAAvB,CAAhB;AACA,MAAII,QAAQL,SAASC,aAAT,CAAuB,YAAvB,CAAZ;AACA,MAAIK,QAAQN,SAASC,aAAT,CAAuB,YAAvB,CAAZ;AACA,MAAIM,UAAUP,SAASC,aAAT,CAAuB,WAAvB,CAAd;;AAEA,MAAIO,OAAO,CAAX;;AAEA,MAAIC,UAAJ;;AAEA,WAASC,OAAT,GAAmB;;AAEjB,QAAIC,cAAcT,YAAYU,KAAZ,GAAoB,QAApB,GAA+BJ,IAAjD;;AAEA,QAAIK,UAAUC,EAAEC,IAAF,CAAO;AACnBC,WAAK,kDAAkDL;AADpC,KAAP,CAAd;;AAIAE,YAAQI,IAAR,CAAa,UAACC,IAAD,EAAU;;AAErBnB,cAAQoB,SAAR,GAAoB,EAApB;;AAEAD,WAAKE,KAAL,CAAWC,OAAX,CAAmB,UAACC,IAAD,EAAU;AAC3B,YAAIC,eAAepB,SAASgB,SAA5B;AACA,YAAIK,SAASC,SAASC,MAAT,CAAgBH,YAAhB,EAA8BD,IAA9B,CAAb;AACAvB,gBAAQoB,SAAR,GAAoBpB,QAAQoB,SAAR,GAAoBK,MAAxC;AACD,OAJD;;AAMAf,mBAAaS,KAAKS,WAAlB;AACAvB,gBAAUwB,SAAV,GAAsBpB,IAAtB;AACAD,cAAQsB,KAAR,CAAc9B,OAAd,GAAwB,OAAxB;AAED,KAdD;AAgBD;;AAEDG,cAAY4B,gBAAZ,CAA6B,OAA7B,EAAsC,UAACC,GAAD,EAAS;;AAE7CvB,WAAO,CAAP;;AAEA,QAAIuB,IAAIC,OAAJ,KAAgB,EAApB,EAAuB;AACrBtB;AACAJ,YAAM2B,SAAN,CAAgBC,GAAhB,CAAoB,MAApB;AACAC,cAAQC,GAAR,CAAY5B,IAAZ;AACD;AAEF,GAVD;;AAYAH,QAAMyB,gBAAN,CAAuB,OAAvB,EAAgC,YAAM;;AAEpC,QAAItB,OAAQC,aAAa,EAAzB,EAA6B;AAC3BH,YAAM2B,SAAN,CAAgBI,MAAhB,CAAuB,MAAvB;AACA7B;AACAE;AACD,KAJD,MAIO,IAAIF,QAASC,aAAa,EAA1B,EAA8B;AACnCJ,YAAM4B,SAAN,CAAgBC,GAAhB,CAAoB,MAApB;AACD;AAEF,GAVD;;AAYA5B,QAAMwB,gBAAN,CAAuB,OAAvB,EAAgC,YAAM;;AAEpC,QAAItB,OAAO,CAAX,EAAa;AACXH,YAAM4B,SAAN,CAAgBI,MAAhB,CAAuB,MAAvB;AACA7B;AACAE;AACD;AAEF,GARD;AAUD,CAzED","file":"script.js","sourcesContent":["(() => {\n  var display = document.querySelector(\".display\");\n  var clientInput = document.querySelector(\".search-input\");\n  var template = document.querySelector(\"#template\");\n  var pageCount = document.querySelector(\".page-counter\");\n  var nextB = document.querySelector(\".next-page\");\n  var prevB = document.querySelector(\".back-page\");\n  var pageNav = document.querySelector(\".page-nav\")\n\n  var page = 1;\n\n  var totalCount;\n\n  function getData (){\n\n    var searchInput = clientInput.value + \"&page=\" + page;\n\n    var promise = $.ajax({\n      url: \"https://api.github.com/search/repositories?q=\" + searchInput\n    })\n\n    promise.done((data) => {\n\n      display.innerHTML = \"\"\n\n      data.items.forEach((item) => {\n        var templateHtml = template.innerHTML;\n        var output = Mustache.render(templateHtml, item);\n        display.innerHTML = display.innerHTML + output;\n      });\n\n      totalCount = data.total_count;\n      pageCount.innerText = page;\n      pageNav.style.display = \"block\"\n\n    });\n\n  }\n\n  clientInput.addEventListener(\"keyup\", (evt) => {\n\n    page = 1;\n\n    if (evt.keyCode === 13){\n      getData();\n      prevB.classList.add(\"grey\");\n      console.log(page);\n    }\n\n  });\n\n  nextB.addEventListener(\"click\", () => {\n\n    if (page < (totalCount / 30)){\n      prevB.classList.remove(\"grey\");\n      page++;\n      getData();\n    } else if (page >= (totalCount / 30)){\n      nextB.classList.add(\"grey\")\n    }\n\n  });\n\n  prevB.addEventListener(\"click\", () => {\n\n    if (page > 1){\n      nextB.classList.remove(\"grey\");\n      page--;\n      getData();\n    }\n\n  });\n\n})()\n"]}