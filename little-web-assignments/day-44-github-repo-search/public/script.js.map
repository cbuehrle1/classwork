{"version":3,"sources":["script.js"],"names":["mountNode","document","querySelector","ListItem","props","repo","name","owner","login","React","Component","BaseComponent","state","data","items","total_count","page","evt","keyCode","console","log","getData","target","value","theInput","query","$","ajax","url","done","setState","display","map","item","index","input","pressedEnter","nextPage","prevPage","ReactDOM","render"],"mappings":"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","file":"script.js","sourcesContent":["var mountNode = document.querySelector('#react-root');\n\nclass ListItem extends React.Component {\n  render() {\n    return <li><div>{this.props.repo.name}</div>\n      <div>by {this.props.repo.owner.login}</div>\n      </li>;\n  }\n}\n\nclass BaseComponent extends React.Component {\n\n  constructor() {\n    super();\n    this.state = { data:\n      { items: [], total_count: 0 }, page: 1 }\n  }\n\n  pressedEnter(evt, page) {\n    if (evt.keyCode === 13) {\n      console.log(this.state.page);\n      this.getData(evt.target.value + \"&page=\" + this.state.page, this.state.page);\n    }\n  }\n\n  nextPage() {\n\n    if (this.state.page === 1) {\n      this.getData(this.theInput.value + \"&page=\" + (this.state.page + 1), this.state.page + 1);\n      } else if (this.state.page < this.state.data.total_count / 30) {\n        this.getData(this.theInput.value + \"&page=\" + this.state.page, this.state.page + 1);\n      }\n\n  }\n\n  prevPage() {\n\n    if (this.state.page > 1) {\n      this.getData(this.theInput.value + \"&page=\" + (this.state.page), this.state.page - 1);\n    }\n\n  }\n\n  getData(query, page) {\n    $.ajax({\n      url: \"https://api.github.com/search/repositories?q=\" + query\n    })\n    .done((data) => {\n        console.log(page);\n        this.setState({ data: {\n          items: data.items, total_count: data.total_count },\n          page: page\n        });\n    });\n  }\n\n  render() {\n\n    var display;\n\n    if (this.state != null) {\n      display = <ul>\n      {this.state.data.items.map((item, index) => { return <ListItem className=\"list-item\" key={index} repo={item} />})}\n      </ul>\n    }\n\n    return <div><input placeholder=\"Search\" ref={(input) => { this.theInput = input; }} onKeyUp={(evt) => { this.pressedEnter(evt); }}/>\n      <button onClick={() => { this.nextPage() }}>Next</button>\n      <div className=\"page-number\">{this.state.page}</div>\n      <button onClick={() => { this.prevPage() }}>Previous</button>\n      {display}\n    </div>;\n  }\n}\n\nReactDOM.render(<BaseComponent />, mountNode);\n"]}